{"modules":[{"id":"04d94014-1b0f-469a-b948-759a01910e6d","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"1dc6cfc8-1965-4328-83cc-2f31af7ef4f7"},{"condition":"Error","transition":"2994884d-8a7c-45df-8bca-41a5d28117e4"}],"parameters":[{"name":"FunctionArn","value":"connect-backend-ContactRouterLambda","namespace":null},{"name":"TimeLimit","value":"3"}],"metadata":{"position":{"x":41,"y":410},"dynamicMetadata":{},"useDynamic":false},"target":"Lambda"},{"id":"d1f12b85-77a0-4786-96c3-6558cf19422b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"04d94014-1b0f-469a-b948-759a01910e6d"}],"parameters":[{"name":"Text","value":"I will attempt to connect you to the on call person.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":32,"y":221},"useDynamic":false}},{"id":"70c672ea-8661-42b7-bcd6-7dbdf13afa09","type":"Transfer","branches":[{"condition":"Error","transition":"2994884d-8a7c-45df-8bca-41a5d28117e4"}],"parameters":[{"name":"TimeLimit","value":"30"},{"name":"BlindTransfer","value":true},{"name":"PhoneNumber","value":"EscalationContact","namespace":"User Defined"}],"metadata":{"position":{"x":677,"y":324}},"target":"PhoneNumber"},{"id":"1dc6cfc8-1965-4328-83cc-2f31af7ef4f7","type":"SetAttributes","branches":[{"condition":"Success","transition":"697cc376-09fa-416a-99ae-879689b7f12d"},{"condition":"Error","transition":"2994884d-8a7c-45df-8bca-41a5d28117e4"}],"parameters":[{"name":"Attribute","value":"TargetContact","key":"TargetContact","namespace":"External"},{"name":"Attribute","value":"EscalationContact","key":"EscalationContact","namespace":"External"}],"metadata":{"position":{"x":201,"y":10}}},{"id":"2994884d-8a7c-45df-8bca-41a5d28117e4","type":"PlayPrompt","branches":[{"condition":"Success","transition":"d7246234-31c2-442b-afa8-b3957222e92d"}],"parameters":[{"name":"Text","value":"Something went wrong.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":356,"y":587},"useDynamic":false}},{"id":"697cc376-09fa-416a-99ae-879689b7f12d","type":"Transfer","branches":[{"condition":"Success","transition":"36490129-4373-4f8b-a8a3-6f811ac644a7"},{"condition":"CallFailure","transition":"70c672ea-8661-42b7-bcd6-7dbdf13afa09"},{"condition":"Timeout","transition":"70c672ea-8661-42b7-bcd6-7dbdf13afa09"},{"condition":"Error","transition":"2994884d-8a7c-45df-8bca-41a5d28117e4"}],"parameters":[{"name":"TimeLimit","value":"30"},{"name":"BlindTransfer","value":false},{"name":"PhoneNumber","value":"TargetContact","namespace":"User Defined"}],"metadata":{"position":{"x":429,"y":24}},"target":"PhoneNumber"},{"id":"36490129-4373-4f8b-a8a3-6f811ac644a7","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"YesNo","transition":"d10cd822-5184-4283-a8bc-f1a4363ceefd"},{"condition":"NoMatch","transition":"d10cd822-5184-4283-a8bc-f1a4363ceefd"},{"condition":"Error","transition":"2994884d-8a7c-45df-8bca-41a5d28117e4"}],"parameters":[{"name":"Text","value":"Were you able to reach the on call contact?","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"ConnectBot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":""}],"metadata":{"position":{"x":653,"y":55},"conditionMetadata":[{"id":"f59c507d-96c1-4b45-af5d-c2b253b65f8e","value":"YesNo"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"},{"id":"d7246234-31c2-442b-afa8-b3957222e92d","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":897,"y":642}}},{"id":"d10cd822-5184-4283-a8bc-f1a4363ceefd","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Yes","transition":"dac938aa-517b-4c6f-9bea-a6c2a15ced4d"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"No","transition":"760dfc30-40b3-4bfc-ae37-f3b0f7bd4cd7"},{"condition":"NoMatch","transition":"760dfc30-40b3-4bfc-ae37-f3b0f7bd4cd7"}],"parameters":[{"name":"Attribute","value":"Response"},{"name":"Namespace","value":"Lex.Slots"}],"metadata":{"position":{"x":890,"y":188},"conditionMetadata":[{"id":"85a36781-ce8a-4ea9-8d7e-9d7667b18f75","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"Yes"},{"id":"59e7a147-b4f4-48de-9d73-254c3ef58bdc","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"No"}]}},{"id":"dac938aa-517b-4c6f-9bea-a6c2a15ced4d","type":"PlayPrompt","branches":[{"condition":"Success","transition":"d7246234-31c2-442b-afa8-b3957222e92d"}],"parameters":[{"name":"Text","value":"Okay.  Thank you for calling.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1177,"y":238},"useDynamic":false}},{"id":"760dfc30-40b3-4bfc-ae37-f3b0f7bd4cd7","type":"PlayPrompt","branches":[{"condition":"Success","transition":"70c672ea-8661-42b7-bcd6-7dbdf13afa09"}],"parameters":[{"name":"Text","value":"Let me try someone else.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1133,"y":394},"useDynamic":false}}],"version":"1","type":"contactFlow","start":"d1f12b85-77a0-4786-96c3-6558cf19422b","metadata":{"entryPointPosition":{"x":20,"y":20},"snapToGrid":false,"name":"OnCallFlow","description":null,"type":"contactFlow","status":"published","hash":"ae74aec4e91c15c9bf0f4cdba341f02e383eb9815d3a4258d67ecb0699657060"}}